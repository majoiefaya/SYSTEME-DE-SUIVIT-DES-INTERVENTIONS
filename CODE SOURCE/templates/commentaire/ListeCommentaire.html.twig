{% extends 'ClientsBase.html.twig' %}

{% block Entete %}
  {% include 'commentaire/EnteteCommentaire.html.twig' %}
{% endblock %}

{% block Contenu %}
  <div class="d-flex flex-column-fluid">
    <!-- begin::Container -->
    <div class="container">
	 {% for message in app.flashes('Success') %}
      <div class="alert alert-custom alert-light-success fade show py-4" role="alert">
        <div class="alert-icon"><i class="flaticon-warning"></i></div>
        <div class="alert-text font-weight-bold">
          {{ message }}
        </div>
        <div class="alert-close">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true"><i class="la la-close "></i></span>
            </button>
        </div>
      </div>
  	  {% endfor %}
      <!-- begin::Row -->
      <div class="row">
        {% for commentaire in commentaires %}
          <div class="col-xl-6">
            <!-- begin::Card -->
            <div class="card card-custom gutter-b card-stretch">
              <!-- begin::Body -->
              <div class="card-body">
                <!-- begin::Top -->
                <div class="d-flex align-items-center">
                  <!-- begin::Symbol -->
                  <div class="symbol symbol-45 symbol-light mr-5">
                    <span class="symbol-label">
                      {% if commentaire.client==null %}
                        <img src="{{asset('Admins/Assets/media/svg/avatars/009-boy-4.svg')}}" class="h-75 align-self-end" alt="">
                      {% else %}
                        <img src="{{ asset('Clients/PhotosDeProfil/')~commentaire.client.image }}" class="h-75 align-self-end" alt="">
                      {% endif %}
                    </span>
                  </div>
                  <!-- end::Symbol -->

                  <!-- begin::Info -->
                  <div class="d-flex flex-column flex-grow-1">
                    <a href="#"
                      class="text-dark-75 text-hover-primary mb-1 font-size-lg font-weight-bolder">
                      Client
                    </a>
                    <div class="d-flex">
                      <div class="d-flex align-items-center pr-5">
                        <span class="svg-icon svg-icon-md svg-icon-primary pr-1">
                          <!-- begin::Svg Icon | path:assets/media/svg/icons/Home/Clock.svg -->
                          <svg xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="24px"
                            height="24px"
                            viewBox="0 0 24 24"
                            version="1.1">
                            <g stroke="none"
                              stroke-width="1"
                              fill="none"
                              fill-rule="evenodd">
                              <rect x="0" y="0" width="24" height="24"></rect>
                              <path d="M12,22 C7.02943725,22 3,17.9705627 3,13 C3,8.02943725 7.02943725,4 12,4 C16.9705627,4 21,8.02943725 21,13 C21,17.9705627 16.9705627,22 12,22 Z"
                                fill="#000000"
                                opacity="0.3"></path>
                              <path d="M11.9630156,7.5 L12.0475062,7.5 C12.3043819,7.5 12.5194647,7.69464724 12.5450248,7.95024814 L13,12.5 L16.2480695,14.3560397 C16.403857,14.4450611 16.5,14.6107328 16.5,14.7901613 L16.5,15 C16.5,15.2109164 16.3290185,15.3818979 16.1181021,15.3818979 C16.0841582,15.3818979 16.0503659,15.3773725 16.0176181,15.3684413 L11.3986612,14.1087258 C11.1672824,14.0456225 11.0132986,13.8271186 11.0316926,13.5879956 L11.4644883,7.96165175 C11.4845267,7.70115317 11.7017474,7.5 11.9630156,7.5 Z"
                                fill="#000000"></path>
                            </g>
                          </svg>
                          <!-- end::Svg Icon -->
                        </span>
                        <span class="text-muted font-weight-bold">
                          {{ commentaire.DateEnvoi|date('y m d') }}
                        </span>
                      </div>
                    </div>
                  </div>
                  <!-- end::Info -->

                  <!-- begin::Dropdown -->
                  <div class="dropdown dropdown-inline ml-2"
                    data-toggle="tooltip"
                    title=""
                    data-placement="left"
                    data-original-title="Quick actions">
                    <a href="#"
                      class="btn btn-hover-light-primary btn-sm btn-icon"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false">
                      <i class="ki ki-bold-more-hor"></i>
                    </a>
                    <div class="dropdown-menu p-0 m-0 dropdown-menu-md dropdown-menu-right">
                      <!-- begin::Navigation -->
                      <ul class="navi navi-hover">
                        <li class="navi-header font-weight-bold py-4">
                          <span id="InfosCommentaire" class="font-size-lg">Actions:</span>
                          <i class="flaticon2-information icon-md text-muted"
                            data-toggle="tooltip"
                            data-placement="right"
                            title=""
                            data-original-title="Click to learn more...">

                          </i>
                        </li>
                        <li class="navi-separator mb-3 opacity-70"></li>
                        <li class="navi-item">
                          <a href="#" class="navi-link">
                            <span class="navi-text">
                              <span class="label label-xl label-inline label-light-success">
                                Modifier
                              </span>
                            </span>
                          </a>
                        </li>
                        <li class="navi-item">
                          <a href="#" class="navi-link">
                            <span class="navi-text">
                              <span class="label label-xl label-inline label-light-danger">
                                Supprimer
                              </span>
                            </span>
                          </a>
                        </li>
                        <li class="navi-separator mt-3 opacity-70"></li>
                        <li class="navi-footer py-4">
                          <a id="InfosCommentaire" class="btn btn-clean font-weight-bold btn-sm"
                            href="#">
                            <i class="ki ki-plus icon-sm"></i>
                            infos
                          </a>
                        </li>
                      </ul>
                      <!-- end::Navigation -->
                    </div>
                  </div>
                  <!-- end::Dropdown -->
                </div>
                <!-- end::Top -->

                <!-- begin::Bottom -->
                <div class="pt-3">
                  <!-- begin::Text -->
                  <p class="text-dark-75 font-size-lg font-weight-normal pt-5 mb-6">
                    {{commentaire.contenu}}
                  </p>
                  <!-- end::Text -->

                  <!-- begin::Username -->
                  <span class="text-dark-75 font-size-lg font-weight-normal">
                    {% if commentaire.client==null %}
						Anonyme<i class="flaticon2-user"></i>
					{% else %}
						{{ commentaire.client.Nom }}
					{% endif %}
                  </span>
                  <!-- end::Username -->
                </div>
                <!-- end::Bottom -->

                <!-- begin::Separator -->
                <div class="separator separator-solid mt-6 mb-4"></div>
                <!-- end::Separator -->

                <!-- begin::Editor -->
                <form class="position-relative" method="post" action="{{path('ModifierTemoignage',{'id':commentaire.id})}}">
                  <textarea id="kt_forms_widget_10_input"
                    class="form-control border-0 p-0 pr-10 resize-none"
                    rows="2"
					name="ContenuModifiÃ©"
                    placeholder="Modifier Le Commentaire"
                    style="overflow: hidden; overflow-wrap: break-word; height: 20px;"></textarea>

                  <div class="position-absolute top-0 right-0 mt-n1 mr-n2">
                    <button type="submit" class="btn btn-danger">
                      <i class="flaticon2-edit"></i>
                    </button>
                  </div>
                </form>
                <!-- edit::Editor -->
              </div>
              <!-- end::Body -->
            </div>
            <!-- end::Card -->
          </div>
        {% endfor %}
      </div>
      <!-- end::Row -->
      <!-- begin::Pagination -->
      <div class="d-flex justify-content-between align-items-center flex-wrap">
        <div class="d-flex flex-wrap mr-3">
          <a href="#" class="btn btn-icon btn-sm btn-light-primary mr-2 my-1">
            <i class="ki ki-bold-double-arrow-back icon-xs"></i>
          </a>
          <a href="#" class="btn btn-icon btn-sm btn-light-primary mr-2 my-1">
            <i class="ki ki-bold-arrow-back icon-xs"></i>
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            ...
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            23
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary active mr-2 my-1">
            24
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            25
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            26
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            27
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            28
          </a>
          <a href="#"
            class="btn btn-icon btn-sm border-0 btn-hover-primary mr-2 my-1">
            ...
          </a>
          <a href="#" class="btn btn-icon btn-sm btn-light-primary mr-2 my-1">
            <i class="ki ki-bold-arrow-next icon-xs"></i>
          </a>
          <a href="#" class="btn btn-icon btn-sm btn-light-primary mr-2 my-1">
            <i class="ki ki-bold-double-arrow-next icon-xs"></i>
          </a>
        </div>
        <div class="d-flex align-items-center">
          <select class="form-control form-control-sm text-primary font-weight-bold mr-4 border-0 bg-light-primary"
            style="width: 75px;">
            <option value="10">
              10
            </option>
            <option value="20">
              20
            </option>
            <option value="30">
              30
            </option>
            <option value="50">
              50
            </option>
            <option value="100">
              100
            </option>
          </select>
          <span class="text-muted">Displaying 10 of 230 records</span>
        </div>
      </div>
      <!-- end::Pagination -->
    </div>
    <!-- end::Container -->
  </div>
{% endblock %}

{% block Scripts %}
  {% include 'clients_dashboard/Components/Scripts.html.twig' %}
  <script src="{{
    asset(
      'Clients/Assets/js/pages/custom/todo/todo.js'
    )
    }}"></script>
	 <script>
        $("#InfosCommentaire").click(function(e) {
            Swal.fire("Infos!", "Selectionnez Une Des Actions de La Liste Pour L'Effectuer!", "info");
        });
    </script>
{% endblock %}
